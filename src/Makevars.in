#  GNUMakefile
 
# Just a snippet to stop executing under other make(1) commands
# that won't understand these lines
ifneq (,)
This makefile requires GNU Make.
endif
	
CXX_STD = CXX17
#somehow the implicit $CC isn't available/accurate, so we have to re-fetch it
compilerinfo = ${shell R CMD config CXX}
compiler = $(findstring clang++, $(compilerinfo))
#$(info "$(compiler)")
ifneq (,$(compiler))
	fslib = c++fs
else
	fslib = stdc++fs
endif
	

h5lib = $(shell echo 'Rhdf5lib::pkgconfig("PKG_C_LIBS")'|\
    "${R_HOME}/bin/R" --vanilla --slave)
    
PKG_CPPFLAGS =-DROUT -I../inst/include/ @PKG_CPPFLAGS@ -DBOOST_NO_AUTO_PTR 


PKG_LIBS = $(LAPACK_LIBS) $(BLAS_LIBS) $(FLIBS) @PKG_LIBS@ ${h5lib} 
